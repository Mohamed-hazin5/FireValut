{"ast":null,"code":"import { StorageAction } from '@aws-amplify/core/internals/utils';\nimport './client/s3data/base.mjs';\nimport './client/s3data/getObject.mjs';\nimport { listObjectsV2 } from './client/s3data/listObjectsV2.mjs';\nimport './client/s3data/putObject.mjs';\nimport './client/s3data/createMultipartUpload.mjs';\nimport './client/s3data/uploadPart.mjs';\nimport './client/s3data/completeMultipartUpload.mjs';\nimport './client/s3data/listParts.mjs';\nimport './client/s3data/abortMultipartUpload.mjs';\nimport './client/s3data/copyObject.mjs';\nimport './client/s3data/headObject.mjs';\nimport './client/s3data/deleteObject.mjs';\nimport './client/s3data/deleteObjects.mjs';\nimport { getStorageUserAgentValue } from './userAgent.mjs';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n/**\n * Determines if a given S3 key represents a folder by checking if objects exist with that prefix.\n *\n * @param params - Configuration object for the folder check\n * @returns Promise that resolves to true if the key represents a folder, false otherwise\n */\nconst isPathFolder = async params => {\n  const {\n    s3Config,\n    bucket,\n    key,\n    expectedBucketOwner\n  } = params;\n  try {\n    const prefix = key.endsWith('/') ? key : `${key}/`;\n    const result = await listObjectsV2({\n      ...s3Config,\n      userAgentValue: getStorageUserAgentValue(StorageAction.Remove)\n    }, {\n      Bucket: bucket,\n      Prefix: prefix,\n      MaxKeys: 1,\n      ExpectedBucketOwner: expectedBucketOwner\n    });\n    const isFolder = !!(result.Contents && result.Contents.length > 0) || !!(result.CommonPrefixes && result.CommonPrefixes.length > 0);\n    return isFolder;\n  } catch (error) {\n    return false;\n  }\n};\nexport { isPathFolder };","map":{"version":3,"names":["isPathFolder","params","s3Config","bucket","key","expectedBucketOwner","prefix","endsWith","result","listObjectsV2","userAgentValue","getStorageUserAgentValue","StorageAction","Remove","Bucket","Prefix","MaxKeys","ExpectedBucketOwner","isFolder","Contents","length","CommonPrefixes","error"],"sources":["/Users/mohamedhazin/Desktop/filevalut/frontend/node_modules/@aws-amplify/storage/src/providers/s3/utils/isPathFolder.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { StorageAction } from '@aws-amplify/core/internals/utils';\nimport { listObjectsV2 } from './client/s3data';\nimport { getStorageUserAgentValue } from './userAgent';\n/**\n * Determines if a given S3 key represents a folder by checking if objects exist with that prefix.\n *\n * @param params - Configuration object for the folder check\n * @returns Promise that resolves to true if the key represents a folder, false otherwise\n */\nexport const isPathFolder = async (params) => {\n    const { s3Config, bucket, key, expectedBucketOwner } = params;\n    try {\n        const prefix = key.endsWith('/') ? key : `${key}/`;\n        const result = await listObjectsV2({\n            ...s3Config,\n            userAgentValue: getStorageUserAgentValue(StorageAction.Remove),\n        }, {\n            Bucket: bucket,\n            Prefix: prefix,\n            MaxKeys: 1,\n            ExpectedBucketOwner: expectedBucketOwner,\n        });\n        const isFolder = !!(result.Contents && result.Contents.length > 0) ||\n            !!(result.CommonPrefixes && result.CommonPrefixes.length > 0);\n        return isFolder;\n    }\n    catch (error) {\n        return false;\n    }\n};\n"],"mappings":";;;;;;;;;;;;;;;;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACY,MAACA,YAAY,GAAG,MAAOC,MAAM,IAAK;EAC1C,MAAM;IAAEC,QAAQ;IAAEC,MAAM;IAAEC,GAAG;IAAEC;EAAmB,CAAE,GAAGJ,MAAM;EAC7D,IAAI;IACA,MAAMK,MAAM,GAAGF,GAAG,CAACG,QAAQ,CAAC,GAAG,CAAC,GAAGH,GAAG,GAAG,GAAGA,GAAG,GAAG;IAClD,MAAMI,MAAM,GAAG,MAAMC,aAAa,CAAC;MAC/B,GAAGP,QAAQ;MACXQ,cAAc,EAAEC,wBAAwB,CAACC,aAAa,CAACC,MAAM;IACzE,CAAS,EAAE;MACCC,MAAM,EAAEX,MAAM;MACdY,MAAM,EAAET,MAAM;MACdU,OAAO,EAAE,CAAC;MACVC,mBAAmB,EAAEZ;IACjC,CAAS,CAAC;IACF,MAAMa,QAAQ,GAAG,CAAC,EAAEV,MAAM,CAACW,QAAQ,IAAIX,MAAM,CAACW,QAAQ,CAACC,MAAM,GAAG,CAAC,CAAC,IAC9D,CAAC,EAAEZ,MAAM,CAACa,cAAc,IAAIb,MAAM,CAACa,cAAc,CAACD,MAAM,GAAG,CAAC,CAAC;IACjE,OAAOF,QAAQ;EACnB,EACA,OAAOI,KAAK,EAAE;IACV,OAAO,KAAK;EAChB;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}